<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speech to Text</title>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="../static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <script>
      function setLanguage(lang) {
        document.getElementById('lang-hidden').value = lang;
      }
    </script>
</head>
<body>
  <nav>
    <ul>
      <div class="menu"><span>MENU</span></div>
      <li><a href="/"><i class="fab fa-gripfire"></i> Dashboard</a></li>
      <li><a href="/summarize"><i class="fas fa-cogs"></i> Summarize</a></li>
      <li><a href="/speechtotext"><i class="fas fa-tv"></i> Speech To Text</a></li>
      <li><a href="/changebackround"><i class="far fa-folder"></i> Change Background</a></li>
      <li><a href="/deletebackround"><i class="far fa-address-book"></i> Delete Background</a></li>
      <li><a href="/translate"><i class="fab fa-gripfire"></i> Translate</a></li>
      <li><a href="/learn"><i class="far fa-comments"></i> Learn More</a></li>
    </ul>
  </nav>

  <div class="wrapper">
    <div class="section">
      <div class="box-area">
        <h2 style="color: #9294A3">Speech to Text</h2>
        <p>Choose the language from below and press go. Whatever you say will be written under the button.</p>

        <form method="POST" action="/speechtotextt">
          <div class="speech-settings">
            <label for="language-select" style="color: #9294A3;">Choose language:</label>
            <select id="language-select" name="language" onchange="setLanguage(this.value)">
              <option value="english" {% if language == 'english' %}selected{% endif %}>English</option>
              <option value="turkish" {% if language == 'turkish' %}selected{% endif %}>Turkish</option>
            </select>

            <input type="hidden" id="lang-hidden" name="hidden_language" value="{{ language }}">

            <button type="submit" class="buttonnn">Enable Speech To Text</button>

            {% if result %}
            <div class="speech-result">
              <h3 style="color: #fff;">You said: {{ result }}</h3>
            </div>
            {% endif %}
          </div>
        </form>
        
      </div>
    </div>
  </div>
</body>
</html>
